{% set vacancies = block.vacancies.collect() %}

{% if block.bgColor != null %}
    {% set bgColor = true %}
{% else %}
    {% set bgColor = false %}
{% endif %}

<div class="cases-latest container{% if bgColor %} container--light{% endif %}">
    {% if block.blockTitle|length or block.redactor|length %}
        <div class="row">
            <div class="col-full">
                <div class="leading leading--center">
                    {% if block.blockTitle|length %}
                        <h2 class="h2 leading__section">{{ block.blockTitle }}</h2>
                    {% endif %}

                    {% if block.redactor|length %}
                        {{ block.redactor }}
                    {% endif %}
                </div>

                {% if block.ctas|length and not block.ctas.cta.isEmpty() %}
                    <div class="buttongroup buttongroup--center">
                        {% include '_snippets/_content/_blocks/_partials/_callToActions.twig' %}
                    </div>
                {% endif %}
            </div>
        </div>
    {% endif %}

    {% if vacancies|length %}
        <div class="row row-grid">
            {% for case in vacancies %}
                <div class="col-md-6 col-lg-4">
                    {% include '_snippets/_components/_case.twig'
                        with {
                        "casesLatest": true,
                    } %}
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>